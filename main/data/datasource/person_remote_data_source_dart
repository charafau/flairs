import 'package:flairs/features/main/data/datasource/person_rest_client.dart';
import 'package:flairs/features/main/data/dto/person_dto.dart';

abstract class PersonRemoteDataSource {
  Future<List<PersonDto>> getPersons();

  Future<PersonDto> personPost(PersonDto dto);

  Future<PersonDto> updatePost(PersonDto dto);

  Future<void> deletePerson(PersonDto dto);
}

class PersonRemoteDataSourceImpl implements PersonRemoteDataSource {
  final PersonRestClient restClient;

  PersonRemoteDataSourceImpl(this.restClient);

  @override
  Future<List<PersonDto>> getPersons() async {
    final List<PersonDto> response = await restClient.getPersons();
    return response;
  }

  @override
  Future<PersonDto> postPerson(PersonDto dto) async {
    final result = await restClient.postPerson(dto);
    return result;
  }

  @override
  Future<PersonDto> updatePerson(PersonDto dto) async {
    final result = await restClient.updatePerson(dto.id, dto);
    return result;
  }

  @override
  Future<void> deletePerson(PersonDto dto) async => await restClient.deletePerson(dto.id);
}

  